tree("Root")
	fallback
		tree("Quest")
		tree("PrepareOrder")
		tree("Approach")
		tree("Idle")

tree("Quest")
	sequence
		InQuest
		GoTo("TreePos")
		fallback
			sequence
				QuestIsDone
				EndQuest
			Succeed

tree("PrepareOrder")
	sequence
		IsPreparingOrder
		sequence
			fallback
				sequence
					not HasCrops
					GoTo("CropHarvest")
					HarvestCrops
				Succeed
			GoTo("Crop")
			TakeCrop
			GoTo("Stove")
			Cook
		GoTo("Counter")
		EndOrder

tree("Approach")
	sequence
		IsNear("Player", "Counter")
		GoTo("Counter")
		fallback
			sequence
				IsNear("Chef", "Counter")
				TextSetActive(true)
				tree("Interaction")
			Succeed

tree("Interaction")
	sequence
		ChangeText("E to interact")
		IsKeyDown("E")
		StopPlayer(true)
		GiveChoices
		StopPlayer(false)
		fallback
			sequence
				IsKeyDown("Alpha1")
				StartOrder
				TextSetActive(false)
			sequence
				IsKeyDown("Alpha2")
				fallback
					QuestIsDone
					sequence
						StartQuest
						TextSetActive(false)

tree("Idle")
	sequence
		TextSetActive(false)
		GoTo("StartPos")
		Idle
