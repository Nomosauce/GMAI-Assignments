tree("Root")
	fallback
		tree("Angry")
		tree("Quest")
		tree("PrepareOrder")
		tree("Approach")
		tree("Idle")

tree("Angry")
	sequence
		IsAngry
		GoTo("Player")
		fallback
			sequence
				IsFoodBurnt
				GoTo("Stove")
				GoTo("Trash")
			Succeed
		GoTo("Table")
		ExitAngry

tree("Quest")
	sequence
		InQuest
		GoTo("TreePos")
		fallback
			sequence
				QuestIsDone
				EndQuest
			Succeed

tree("PrepareOrder")
	sequence
		IsPreparingOrder
		tree("TakeCrop")
		tree("TakeMeat")
		Cook
		GoTo("Table")
		GoTo("Counter")
		EndOrder

tree("TakeCrop")
	sequence
		fallback
			sequence
				not HasCrops
				GoTo("CropHarvest")
				HarvestCrops
			Succeed
		GoTo("Crop")
		TakeCrop
		GoTo("Stove")

tree("TakeMeat")
	sequence
		fallback
			sequence
				not HasMeat
				GoTo("Animals")
				HarvestMeat
			Succeed
		GoTo("Meat")
		TakeMeat
		GoTo("Stove")

tree("Approach")
	sequence
		IsNear("Player", "Counter")
		GoTo("Counter")
		fallback
			sequence
				IsNear("Chef", "Counter")
				TextSetActive(true)
				tree("Interaction")
			Succeed

tree("Interaction")
	sequence
		ChangeText("E to interact")
		IsKeyDown("E")
		StopPlayer(true)
		GiveChoices
		StopPlayer(false)
		fallback
			sequence
				IsKeyDown("Alpha1")
				StartOrder
				TextSetActive(false)
			sequence
				IsKeyDown("Alpha2")
				fallback
					QuestIsDone
					sequence
						StartQuest
						TextSetActive(false)

tree("Idle")
	sequence
		TextSetActive(false)
		GoTo("StartPos")
		Idle
